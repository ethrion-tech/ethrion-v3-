(function(){async function run(cid,url,color){try{const r=await fetch(url);const data=await r.json();const S=data.series||[];const c=document.getElementById(cid);if(!c)return;const ctx=c.getContext('2d');const W=c.width=c.clientWidth*2,H=c.height=c.clientHeight*2;ctx.setTransform(2,0,0,2,0,0);const pad=24;const xs=S.map(s=>s.x),ys=S.map(s=>s.y);const x0=Math.min(...xs),x1=Math.max(...xs),y0=Math.min(...ys),y1=Math.max(...ys);const sx=x=>pad+((x-x0)/(x1-x0||1))*(W/2-pad*2);const sy=y=>(H/2-pad)-((y-y0)/(y1-y0||1))*(H/2-pad*2);ctx.clearRect(0,0,W/2,H/2);ctx.strokeStyle='rgba(255,255,255,.15)';ctx.lineWidth=1;for(let i=0;i<5;i++){const y=pad+i*(H/2-pad*2)/4;ctx.beginPath();ctx.moveTo(pad,y);ctx.lineTo(W/2-pad,y);ctx.stroke();}ctx.beginPath();S.forEach((p,i)=>{i?ctx.lineTo(sx(p.x),sy(p.y)):ctx.moveTo(sx(p.x),sy(p.y));});ctx.lineWidth=2;ctx.strokeStyle=color;ctx.stroke();S.forEach(p=>{ctx.beginPath();ctx.arc(sx(p.x),sy(p.y),3,0,Math.PI*2);ctx.fillStyle=color;ctx.fill();});}catch(e){console.error(e);}}window.renderLumien=()=>run('lumienChart','data/lumien_progress.json','rgba(167,139,250,.95)');window.renderAION=()=>run('aionChart','data/aion_progress.json','rgba(125,211,252,.95)');window.addEventListener('resize',()=>{setTimeout(()=>{if(document.getElementById('lumienChart'))window.renderLumien();if(document.getElementById('aionChart'))window.renderAION();},60);});})();